# -*- coding: utf-8 -*-
"""Flutter - Material - Programacao Para Dispositiveis Moveis

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1UFqMtmb6VcFHezQnzXGPUXN8ALYrAo7u

# Dart

## Dart com o Danco de Dados SQLite

### Passo 1

A primeira coisa que devemos fazer é a instalação da dependêcia sqflite. Você deve abrir para o arquivo ```pubspec.yaml```.

```
...
dependencies:
  flutter:
    sdk: flutter

  sqflite:
  ...
```

## Passo 2

Para usar a dependência instadala devemos realizar uma importação

```
import 'package:sqflite/sqflite.dart';
```

## Passo 3

Instalar o provider_path. É um plugin Flutter para encontrar locais comumente usados ​​no sistema de arquivos. Suporta Android, iOS, Linux, macOS e Windows.

```
...
dependencies:
  flutter:
    sdk: flutter

  sqflite:
  path_provider: ^2.0.9
...
```

Pode me fazer a importação da biblioteca da seguinte forma:

```
import 'package:path_provider/path_provider.dart';
```

# Flutte 

O Flutter transforma o processo de desenvolvimento de aplicativos. Crie, teste e implante belos aplicativos móveis, web, desktop e incorporados a partir de uma única base de código.

Flutter é uma estrutura de código aberto do Google para criar aplicativos multiplataforma bonitos e compilados nativamente a partir de uma única base de código.


Algumas caracteristicas:
- O hot reload é integrado à estrutura do Flutter para ajudá-lo a iterar rapidamente e ver suas alterações na tela em segundos. Atualize o código e veja as alterações quase instantaneamente, sem perder o estado.
- Crie sem compromisso usando centenas de widgets visuais, de layout, de plataforma e interativos pré-fabricados ou personalizados no SDK.
- Suporte para IDE's como VSCode, Android Studio, InteliJ, com plug-ins para aprimorar seu fluxo de trabalho e ferramentas de desenvolvimento integradas.
- O código Flutter compila para código de máquina ARM ou Intel, bem como JavaScript, para desempenho rápido em qualquer dispositivo.
- Controle cada pixel para criar designs personalizados e adaptáveis ​​que ficam ótimos em qualquer tela. 
- O Flutter compila para código de máquina nativo, envie recursos mais rapidamente com menos código e segmente Android, iOS, Web, Windows, macOS e Linux em uma única base de código.



O Flutter utiliza-se do Material Design (codinomeado Quantum Paper) é uma linguagem de design desenvolvida pela Google. Uma melhoria nos "card" que estrearam no Google Now, o Material Design faz um uso mais liberal de layouts baseados em grids, animações e transições responsivas, preenchimentos, e efeitos de profundidade como luzes e sombras.

## Widgets que você  precisa conhecer

### MatirialApp

Um widget de conveniência que agrupa vários widgets normalmente necessários para aplicativos de design de material. Ele se baseia em um WidgetsApp adicionando funcionalidades específicas de design de material, como AnimatedTheme e GridPaper.
"""

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Text("Dados"),
    );
  }
}

#retirando o banner de debug
MaterialApp(
  home: Scaffold(
    appBar: AppBar(
      title: const Text('Home'),
    ),
  ),
  debugShowCheckedModeBanner: false,
)

'''
Este exemplo mostra como criar um MaterialApp que define um tema que será 
usado para widgets de material no aplicativo.
 '''
MaterialApp(
  theme: ThemeData(
    brightness: Brightness.dark,
    primaryColor: Colors.blueGrey
  ),
  home: Scaffold(
    appBar: AppBar(
      title: const Text('MaterialApp Theme'),
    ),
  ),
)

"""### Scaffold 

Implementa a estrutura básica de layout visual do Material Design. Esta classe fornece APIs para mostrar drawers, snack bars, and bottom sheets.
"""

import 'package:flutter/material.dart';

WidgetScaffold1() {
  return Scaffold(
      appBar: AppBar(
        title: Text("Entendendo o Scaffold"),
        backgroundColor: Colors.greenAccent,
      ),
      body: Container(color: Colors.redAccent),
      bottomNavigationBar: BottomAppBar(
        child: Container(
          child: Row(
            children: [
              Icon(Icons.home),
              Icon(Icons.home),
              Icon(Icons.home),
              Icon(Icons.home),
            ],
          ),
        ),
      ));
}

WidgetScaffold(Widget base, String text) {
  return Scaffold(
    appBar: AppBar(
      title: Text(text),
      backgroundColor: Colors.greenAccent,
    ),
    body: Container(
      color: Colors.white,
      child: base,
    ),
  );
}

"""### Text"""

import 'package:flutter/material.dart';

WidgetText() {
  return Scaffold(
    appBar: AppBar(
      title: Text('Entendendo widger Text'),
    ),
    body: Center(
      child: Container(
        child: Column(
          children: [
            Text(
              "Widget Text",
              style: TextStyle(
                fontSize: 30,
                fontWeight: FontWeight.bold,
                decoration: TextDecoration.underline,
                decorationColor: Colors.red,
                decorationStyle: TextDecorationStyle.wavy,
              ),
            ),
            // Stroked text as border.
            Text(
              'Greetings, planet!',
              style: TextStyle(
                fontSize: 40,
                foreground: Paint()
                  ..style = PaintingStyle.stroke
                  ..strokeWidth = 3
                  ..color = Colors.blueAccent,
              ),
            ),
          ],
        ),
      ),
    ),
  );
}

"""### TextField

ref. https://docs.flutter.dev/cookbook/forms/retrieve-input
"""

import 'package:flutter/material.dart';

void main() => runApp(const MyApp());

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      title: 'Retrieve Text Input',
      home: MyCustomForm(),
    );
  }
}

// Define a custom Form widget.
class MyCustomForm extends StatefulWidget {
  const MyCustomForm({Key? key}) : super(key: key);

  @override
  _MyCustomFormState createState() => _MyCustomFormState();
}

// Define a corresponding State class.
// This class holds the data related to the Form.
class _MyCustomFormState extends State<MyCustomForm> {
  // Create a text controller and use it to retrieve the current value
  // of the TextField.
  final myController = TextEditingController();

  @override
  void dispose() {
    // Clean up the controller when the widget is disposed.
    myController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Retrieve Text Input'),
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: TextField(
          controller: myController,
        ),
      ),
      floatingActionButton: FloatingActionButton(
        // When the user presses the button, show an alert dialog containing
        // the text that the user has entered into the text field.
        onPressed: () {
          showDialog(
            context: context,
            builder: (context) {
              return AlertDialog(
                // Retrieve the text the that user has entered by using the
                // TextEditingController.
                content: Text(myController.text),
              );
            },
          );
        },
        tooltip: 'Show me the value!',
        child: const Icon(Icons.text_fields),
      ),
    );
  }
}

"""### Criando o meu StatefulWidget"""

import 'package:flutter/material.dart';

class MeuDog extends StatefulWidget {
  const MeuDog({Key? key}) : super(key: key);

  @override
  _MeuDogState createState() => _MeuDogState();
}

class _MeuDogState extends State<MeuDog> {
  String nomeDog = "";

  @override
  Widget build(BuildContext context) {
    debugPrint("O widget foi criado");
    return Scaffold(
      appBar: AppBar(title: Text("Statful Widget")),
      body: Container(
        margin: EdgeInsets.all(20.0),
        child: Column(
          children: [
            TextField(
              onSubmitted: (String text) {
                setState(() {
                  nomeDog = text;
                  debugPrint("O widget sofreu alteracao");
                  debugPrint("O widget foi redesenhando");
                });
              },
            ),
            SizedBox(
              height: 20,
            ),
            Text("O nome do meu dog é: $nomeDog"),
          ],
        ),
      ),
    );
  }
}

"""### ElevatedButton

ref. https://api.flutter.dev/flutter/material/ElevatedButton-class.html
"""

import 'package:flutter/material.dart';

WidgetElevatedButton() {
  final ButtonStyle style =
      ElevatedButton.styleFrom(textStyle: const TextStyle(fontSize: 20));

  return Scaffold(
    body: Center(
      child: Column(
        mainAxisSize: MainAxisSize.min,
        children: <Widget>[
          ElevatedButton(
            style: style,
            onPressed: null,
            child: const Text('Disabled'),
          ),
          const SizedBox(height: 30),
          ElevatedButton(
            style: style,
            onPressed: () {},
            child: const Text('Enabled'),
          ),
          WidgetElevatedButton2('Novo'),
        ],
      ),
    ),
  );
}

WidgetElevatedButton2(String text) {
  return ElevatedButton(
    style: TextButton.styleFrom(primary: Colors.green),
    onPressed: () {
      print('O Botao novo foi clicado');
    },
    child: Text('$text'),
  );
}

WidgetBottonLogin(String text) {
  return ButtonTheme(
    padding: EdgeInsets.fromLTRB(20, 15, 20, 15),
    child: ElevatedButton(
      style: TextButton.styleFrom(primary: Colors.green),
      child: Text(
        text,
        textAlign: TextAlign.center,
      ),
      onPressed: () {},
    ),
    shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(30.0)),
  );
}

WidgetButtonElevated(String text) {
  return ConstrainedBox(
    constraints: const BoxConstraints.tightFor(width: 400, height: 200),
    child: ElevatedButton(
      onPressed: () {},
      child: Text(text),
      style: ElevatedButton.styleFrom(
          primary: Colors.pink,
          fixedSize: const Size(300, 100),
          shape:
              RoundedRectangleBorder(borderRadius: BorderRadius.circular(50))),
    ),
  );
}

WidgetBTest() {
  ElevatedButton(
    onPressed: () {},
    child: const Text('240 x 80'),
    style: ElevatedButton.styleFrom(
        fixedSize: const Size(40, 80), primary: Colors.deepOrange),
  );
}


WidgetElevatedButtonSizedBox() {
  final ButtonStyle style =
      ElevatedButton.styleFrom(textStyle: const TextStyle(fontSize: 20));

  return Scaffold(
    body: Center(
      child: SizedBox(
        width: double.infinity,
        height: double.infinity,
        child: ElevatedButton(
          child: Text('Novo butao'),
          onPressed: () {},
        ),
      ),
    ),
  );
}

"""### Row e Column

- ref. https://api.flutter.dev/flutter/widgets/Column-class.html

- ref. https://api.flutter.dev/flutter/widgets/Row-class.html
"""

import 'package:flutter/material.dart';
import 'widget_elevated_button.dart';

WidgetColomnRow() {
  return Scaffold(
    appBar: AppBar(title: Text("Column e Row")),
    body: Container(
      //height: 300,
      //height: double.infinity,
      color: Colors.yellowAccent,
      child: WidgetRow(),
    ),
  );
}

WidgetColumn() {
  return Column(
    mainAxisAlignment: MainAxisAlignment.spaceBetween,
    mainAxisSize: MainAxisSize.max,
    crossAxisAlignment: CrossAxisAlignment.center,
    children: [
      WidgetElevatedButton2('Novo'),
      WidgetElevatedButton2('Novo'),
      WidgetElevatedButton2('Novo'),
    ],
  );
}

WidgetRow() {
  return Row(
    mainAxisAlignment: MainAxisAlignment.spaceBetween,
    mainAxisSize: MainAxisSize.max,
    crossAxisAlignment: CrossAxisAlignment.center,
    children: [
      WidgetElevatedButton2('Novo'),
      WidgetElevatedButton2('Novo'),
      WidgetElevatedButton2('Novo'),
    ],
  );
}

"""### Imagem
- ref. https://api.flutter.dev/flutter/widgets/Image-class.html
"""

## config do arquivo pubspec.yaml
#...
# The following section is specific to Flutter.
flutter:

  # The following line ensures that the Material Icons font is
  # included with your application, so that you can use the icons in
  # the material Icons class.
  uses-material-design: true

  # To add assets to your application, add an assets section, like this:
  assets:
    - imagens/
  #   - images/a_dot_ham.jpeg

#...

import 'package:flutter/material.dart';

WidgetImagemNetwork() {
  return Center(
    child: Image.network(
        'https://s2.glbimg.com/nvjFq8VRjyrpdQqaOeywz-5DFwY=/e.glbimg.com/og/ed/f/original/2021/08/27/captura_de_tela_2021-08-27_as_11.01.15.png'),
  );
}

WidgetImagemAssent() {
  return Center(child: Image.asset("imagens/03.jpg"));
}

"""### Criando uma tela de login"""

import 'package:flutter/material.dart';
import 'package:flutter_application_1/widget_elevated_button.dart';
import 'package:flutter_application_1/widget_textfield.dart';

class WidgetLogin extends StatefulWidget {
  const WidgetLogin({Key? key}) : super(key: key);

  @override
  _WidgetLoginState createState() => _WidgetLoginState();
}

class _WidgetLoginState extends State<WidgetLogin> {
  TextStyle style = TextStyle(fontFamily: 'Montserrat', fontSize: 20);

  final emailField = widgetTextField(false, 'Email');
  final passwordField = widgetTextField(true, 'Password');
  final bottunlogin = WidgetButtonElevated('Login');
  //final bottunlogin = WidgetBTest();
  @override
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      child: Container(
        color: Colors.white,
        padding: EdgeInsets.all(40.0),
        child: Column(
          children: [
            SizedBox(
              height: 150,
              child: Image.asset(
                "imagens/login.png",
                fit: BoxFit.contain,
              ),
            ),
            SizedBox(height: 20),
            SizedBox(
              height: 40,
              child: emailField,
            ),
            SizedBox(
              height: 40,
              child: passwordField,
            ),
            SizedBox(height: 20),
            SizedBox(
              height: 40,
              child: bottunlogin,
            ),
            SizedBox(height: 300),
          ],
        ),
      ),
    );
  }
}

"""### Lista Dinâmica"""

import 'package:flutter/material.dart';

import 'widget_scaffold.dart';

class ListDinamica extends StatefulWidget {
  const ListDinamica({Key? key}) : super(key: key);

  @override
  _ListDinamicaState createState() => _ListDinamicaState();
}

class _ListDinamicaState extends State<ListDinamica> {
  @override
  Widget build(BuildContext context) {
    return WidgetScaffold(buildListaDinamica(), 'Entendendo Lista Dinamica');
  }

  buildListaDinamica() {
    final itens = List<String>.generate(100, (index) => "Item $index");
    return ListView.builder(
        itemCount: itens.length,
        itemBuilder: (context, index) {
          return ListTile(
            leading: Icon(Icons.arrow_back),
            title: Text('${itens[index]}'),
            onTap: () {
              print("Item $index");
            },
          );
        });
  }
}

"""### Cosumindo Json 

- ref. https://medium.com/flutter-comunidade-br/descomplicando-o-json-em-flutter-47e12b87753b

#### Consumindo Json de forma simples
"""

import 'dart:convert';

class Usuario {
  Usuario(
      {required this.id,
      required this.nome,
      required this.telefone,
      required this.email});

  final String id;
  final String nome;
  final String telefone;
  final String email;

  factory Usuario.fromJson(Map<String, dynamic> json) => Usuario(
      id: json["id"],
      nome: json["nome"],
      telefone: json["telefone"],
      email: json["email"]);
}

void main() {
  final String json = """
  {
    "id": "001",
    "nome": "Matheus Ribeiro",
    "telefone": "5514981234567",
    "email": "matheus@matheus.com"
  }
  """;

  final Usuario usuario = Usuario.fromJson(jsonDecode(json));
  print(usuario.nome);
}

"""#### Consumindo Json de forma complexa"""

import 'dart:convert';

class Email {
  Email({required this.email, required this.tipo});

  final String email;
  final String tipo;

  factory Email.fromJson(Map<String, dynamic> json) =>
      Email(email: json["email"], tipo: json["tipo"]);
}

class Usuario {
  Usuario(
      {required this.id,
      required this.nome,
      required this.telefone,
      required this.emails});

  final String id;
  final String nome;
  final String telefone;
  final List<Email> emails;

  factory Usuario.fromJson(Map<String, dynamic> json) => Usuario(
      id: json["id"],
      nome: json["nome"],
      telefone: json["telefone"],
      emails: (json["emails"] as List)
          .map((conteudo) => Email.fromJson(conteudo))
          .toList());
}

void main() {
  final String json = """
    {
       "usuarios":[
          {
             "id":"001",
             "nome":"Matheus Ribeiro",
             "telefone":"5514981234567",
             "emails":[
                {
                   "email":"contato@matheus.com",
                   "tipo":"contato"
                },
                {
                   "email":"financeiro@matheus.com",
                   "tipo":"financeiro"
                }
             ]
          },
          {
             "id":"002",
             "nome":"Miranda",
             "telefone":"5514981765432",
             "emails":[
                {
                   "email":"contato@miranda.com",
                   "tipo":"contato"
                },
                {
                   "email":"financeiro@miranda.com",
                   "tipo":"financeiro"
                }
             ]
          }
       ]
    }
    """;

  final jsonMap = jsonDecode(json);

  List<Usuario> usuarios;
  usuarios = (jsonMap["usuarios"] as List)
      .map((usuario) => Usuario.fromJson(usuario))
      .toList();

  final usuario = usuarios[0];

  final String usuarioSelecionado = """
    Nome: ${usuario.nome}
    Telefone: ${usuario.telefone}
    Emails: ${usuario.emails.map((email) => email.email + " (${email.tipo})").toList().join(", ")}
  """;

  print(usuarioSelecionado);
}

"""### Acessando dados http
- ref. https://docs.flutter.dev/cookbook/networking/background-parsing
"""

dependencies:
  http: <latest_version>

import 'dart:async';
import 'dart:convert';

import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:http/http.dart' as http;

Future<List<Photo>> fetchPhotos(http.Client client) async {
  final response = await client
      .get(Uri.parse('https://jsonplaceholder.typicode.com/photos'));

  // Use the compute function to run parsePhotos in a separate isolate.
  return compute(parsePhotos, response.body);
}

// A function that converts a response body into a List<Photo>.
List<Photo> parsePhotos(String responseBody) {
  final parsed = jsonDecode(responseBody).cast<Map<String, dynamic>>();

  return parsed.map<Photo>((json) => Photo.fromJson(json)).toList();
}

class Photo {
  final int albumId;
  final int id;
  final String title;
  final String url;
  final String thumbnailUrl;

  const Photo({
    required this.albumId,
    required this.id,
    required this.title,
    required this.url,
    required this.thumbnailUrl,
  });

  factory Photo.fromJson(Map<String, dynamic> json) {
    return Photo(
      albumId: json['albumId'] as int,
      id: json['id'] as int,
      title: json['title'] as String,
      url: json['url'] as String,
      thumbnailUrl: json['thumbnailUrl'] as String,
    );
  }
}

void main() => runApp(const MyApp());

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    const appTitle = 'Isolate Demo';

    return const MaterialApp(
      title: appTitle,
      home: MyHomePage(title: appTitle),
    );
  }
}

class MyHomePage extends StatelessWidget {
  const MyHomePage({Key? key, required this.title}) : super(key: key);

  final String title;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(title),
      ),
      body: FutureBuilder<List<Photo>>(
        future: fetchPhotos(http.Client()),
        builder: (context, snapshot) {
          if (snapshot.hasError) {
            return const Center(
              child: Text('An error has occurred!'),
            );
          } else if (snapshot.hasData) {
            return PhotosList(photos: snapshot.data!);
          } else {
            return const Center(
              child: CircularProgressIndicator(),
            );
          }
        },
      ),
    );
  }
}

class PhotosList extends StatelessWidget {
  const PhotosList({Key? key, required this.photos}) : super(key: key);

  final List<Photo> photos;

  @override
  Widget build(BuildContext context) {
    return GridView.builder(
      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
        crossAxisCount: 2,
      ),
      itemCount: photos.length,
      itemBuilder: (context, index) {
        return Image.network(photos[index].thumbnailUrl);
      },
    );
  }
}

"""### Consumindo dados da API"""

class User {
  int? id;
  String? name;
  String? username;
  String? email;

  User({this.id, this.name, this.username, this.email});

  User.fromJson(Map<String, dynamic> json) {
    id = json['id'];
    name = json['name'];
    username = json['username'];
    email = json['email'];
  }

  Map<String, dynamic> toJson() {
    final Map<String, dynamic> data = new Map<String, dynamic>();
    data['id'] = this.id;
    data['name'] = this.name;
    data['username'] = this.username;
    data['email'] = this.email;
    return data;
  }
}

import 'dart:async';
import 'dart:convert';

import 'package:flutter/foundation.dart';
import 'user.dart';
import 'package:http/http.dart' as http;

Future<List<User>> fetchUsers(http.Client client) async {
  final response =
      await client.get(Uri.parse('https://jsonplaceholder.typicode.com/users'));

  // Use the compute function to run parsePhotos in a separate isolate.
  return compute(parseUsers, response.body);
}

// A function that converts a response body into a List<Photo>.
List<User> parseUsers(String responseBody) {
  final parsed = jsonDecode(responseBody).cast<Map<String, dynamic>>();

  return parsed.map<User>((json) => User.fromJson(json)).toList();
}

import 'package:flutter/material.dart';

import '../widget_scaffold.dart';

class ListDinamicaJson extends StatefulWidget {
  const ListDinamicaJson({Key? key}) : super(key: key);

  @override
  _ListDinamicaState createState() => _ListDinamicaState();
}

class _ListDinamicaState extends State<ListDinamicaJson> {
  @override
  Widget build(BuildContext context) {
    return WidgetScaffold(buildListaDinamica(), 'Entendendo Lista Dinamica');
  }

  buildListaDinamica() {
    return ListView.builder(itemBuilder: (context, index) {
      return ListTile(
        leading: Icon(Icons.arrow_back),
        title: Text('Itens da lista'),
        onTap: () {
          print("Item");
        },
      );
    });
  }
}

"""### Consumindo dados da API da câmera dos deputados

### Navegação 

- ref. https://docs.flutter.dev/cookbook/navigation/hero-animations
- ref. https://docs.flutter.dev/cookbook/navigation/navigation-basics
- ref. https://docs.flutter.dev/cookbook/navigation/named-routes
- ref. https://docs.flutter.dev/cookbook/navigation/navigate-with-arguments
- ref. https://docs.flutter.dev/cookbook/navigation/returning-data
- ref. https://docs.flutter.dev/cookbook/navigation/passing-data
"""

